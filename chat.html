<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="CSS/styles.css" />
    <link rel="stylesheet" href="CSS/chat.css" />
    <title>Chat Window</title>
  </head>

  <body>
    <!-- Navbar -->
    <div id="navbar-container"></div>

    <div id="chatContainer" class="chat-wrapper">

      <!-- SIDEBAR -->
      <div id="sidebar">
        <h3>Available Users</h3>
        <ul id="userList"></ul>
      </div>

      <!-- MAIN CHAT AREA -->
      <div id="chatArea" class="hidden">
        <h2 id="chatTitle">Select a user to chat</h2>

        <!-- Message list -->
        <ul id="messagesList" class="chat-list"></ul>

        <!-- UNIFIED COMPOSER -->
        <section class="composer">
          <div id="chatMessageForm" class="message-form">

            <div class="controls">
              <!-- Tone dropdown -->
              <select id="toneSelect" name="tone">
                <option value="professional" selected>Professional</option>
                <option value="educational">Educational</option>
                <option value="romantic">Romantic</option>
              </select>

              <!-- ORIGINAL WORKING MESSAGE INPUT -->
              <input
                id="messageInput"
                type="text"
                placeholder="Type a message..."
                required
              />
            </div>

            <div class="actions">
              <button id="clearChatBtn" type="button" class="btn btn-secondary">
                Clear Chat
              </button>

              <button id="polishBtn" type="button" class="btn btn-secondary">
                Polish
              </button>

              <!-- ORIGINAL WORKING SEND BUTTON (NO FORM SUBMIT) -->
              <button id="sendButton" type="button" class="btn btn-primary">
                Send
              </button>
            </div>
          </div>

          <!-- AI RESPONSE SECTION -->
          <div id="aiResponseArea" class="ai-response hidden">
            <textarea id="aiResponse" readonly></textarea>

            <div class="ai-actions">
              <button id="sendAiBtn" class="btn btn-primary">Send AI Response</button>
              <button id="discardAiBtn" class="btn btn-secondary">Discard</button>
            </div>
          </div>
        </section>
      </div>
    </div>

    <!-- JS -->
    <script src="JS/auth-client.js"></script>
    <script src="JS/navbar-loader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/8.0.0/signalr.min.js"></script>
    <script src="JS/chat.js"></script>

    <!-- AI / MCP -->
    <script src="./JS/config.js"></script>
    <script src="./JS/app.js"></script>
    <script src="./JS/index.js"></script>
  </body>
</html>


